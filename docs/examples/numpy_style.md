# NumPy Style

<style type="text/css">
<!--
.mkapi-node {
  border: 2px dashed #88AA88;
}
-->
</style>


Let's start concrete examples. Here, a sample Python file `numpy_style.py` is stored under the `examples` directory relative to the `mkdocs.yml` directory, so we would configure `mkdocs.yml` like below. In addition, we add an extension and extra javascript for [Arithmatex](https://facelessuser.github.io/pymdown-extensions/extensions/arithmatex/).

{{ # cache:clear }}

~~~yml
plugins:
  - search
  - mkapi:
      src_dirs: [examples]

markdown_extensions:
  - pymdownx.arithmatex

extra_javascript:  # for pymdownx.arithmatex
  - https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML
~~~

## Function

The `numpy_style` module defines a simple function `add()`.

```python hide
import sys

if '../../examples' not in sys.path:
  sys.path.insert(0, '../../examples')
import numpy_style
```

#Code numpy_style.add() {{ numpy_style.add # inspect }}

Then, write a *tag* anywhere in your Markdown source:

~~~markdown
![mkapi](numpy_style.add)
~~~

MkApi generates the API documentation for the `add()` function.

![mkapi](numpy_style.add)

!!! note
    In the above example, green dashed border lines are just guide for the eye to show the region of the documentation generated by MkApi for convenience.

In this simple example, you can see some features of MkApi.

* Type inspection of `add()` (*function* prefix is added before `numpy_style.add`).
* Use of type annotation for both Parameters and Returns sections.
* Add *optional* if parameters have default values.
* Default value replacement by the `{default}` keyword in the Parameters section.
* External hyperlink.
* Use of MkDocs extensions: MathJax rendering and admonition.

## Generator

The `numpy_style` module also defines a simple generator `gen()`.

#Code numpy_style.gen() {{ numpy_style.gen # inspect }}

Then,

~~~markdown
![mkapi](numpy_style.gen)
~~~

creates the documentation for the `gen()` generator.

![mkapi](numpy_style.gen)

In this simple example, note that:

* A *generator* prefix instead of a *function* prefix.
* The parameter `n` has no type annotation but you can specify it in the Parameters section directly.
* Yields type is not *iterator of str* but *str*, because the `gen()` is a generator.

## Class

The `numpy_style` module also defines a simple class `ExampleClass`.

#Code numpy_style.ExampleClass {{ numpy_style.ExampleClass # inspect }}

As usual,

~~~markdown
![mkapi](numpy_style.ExampleClass)
~~~

creates the documentation for the `ExampleClass` class.

![mkapi](numpy_style.ExampleClass)

In this example, note that:

* Type annotation using `typing` package (`List` and `Tuple` in this case) is converted into readable style.
* Attributes section is inserted with type and description. These information is collected from the source code.
* If callable objects have neither Returns nor Yields, the type appears on the object signature line like type annotation.
* Properties are moved to the Attributes section with [RO] or [RW] prefix that indicates whether the property is read-only or read-write.
* Methods section is newly created that displays a list of methods defined in this class. Note that it has a hyperlink to the object.

!!! note
    Although you can write the docstring for a class in the `__init__()` function, the attribute inspection only works when you write it as a class level docstring.

## Method

You can select a method of class (or any other object that can have docstring) to generate the documentation.

~~~markdown
![mkapi](numpy_style.ExampleClass.message)
~~~

creates the documentation for the `message()` of `ExampleClass` class.

![mkapi](numpy_style.ExampleClass.message)


## Data Class

The `numpy_style` module also defines a simple [data class](https://docs.python.org/3/library/dataclasses.html) `ExampleDataClass`.

#Code numpy_style.ExampleDataClass {{ numpy_style.ExampleDataClass # inspect }}

Then,

~~~markdown
![mkapi](numpy_style.ExampleDataClass)
~~~

creates the documentation for the `ExampleDataClass` class.

![mkapi](numpy_style.ExampleDataClass)

In this example, note that:

* A DATACLASS prefix instead of a CLASS prefix.
* Attributes type inspection as well as parameters if they are data class fields.

!!! note
    The [Napoleon project](https://sphinxcontrib-napoleon.readthedocs.io/en/latest/index.html#) provides complete examples:

    * [Example Google Style Python Docstrings](https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html#example-google)
    * [Example NumPy Style Python Docstrings](https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_numpy.html#example-numpy)
